<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MatchAGig.com - AI-Powered Recruitment</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Immediate UTM Capture - Must be first script -->
    <script>
      // Capture URL immediately - very first thing that runs
      const ORIGINAL_URL = window.location.href;
      const ORIGINAL_SEARCH = window.location.search;
      console.log('IMMEDIATE CAPTURE - Original URL:', ORIGINAL_URL);
      console.log('IMMEDIATE CAPTURE - Original search params:', ORIGINAL_SEARCH);
      
      // Extract UTM parameters immediately
      const urlParams = new URLSearchParams(ORIGINAL_SEARCH);
      const utmData = {
        utm_source: urlParams.get('utm_source'),
        utm_medium: urlParams.get('utm_medium'),
        utm_campaign: urlParams.get('utm_campaign'),
        utm_term: urlParams.get('utm_term'),
        utm_content: urlParams.get('utm_content')
      };
      
      // Store immediately
      Object.entries(utmData).forEach(([key, value]) => {
        if (value) {
          console.log(`IMMEDIATE CAPTURE - ${key}: ${value}`);
          localStorage.setItem(key, value);
          sessionStorage.setItem(key, value);
        }
      });
    </script>

    <!-- Google tag (gtag.js) -->
    <script src="https://www.googletagmanager.com/gtag/js?id=G-2Y355M9H9X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      // Get stored UTM data
      const storedUTM = {
        utm_source: sessionStorage.getItem('utm_source'),
        utm_medium: sessionStorage.getItem('utm_medium'),
        utm_campaign: sessionStorage.getItem('utm_campaign'),
        utm_term: sessionStorage.getItem('utm_term'),
        utm_content: sessionStorage.getItem('utm_content')
      };

      // Configure GA4 normally first
      gtag('config', 'G-2Y355M9H9X');
      
      // Then send custom page_view with UTM data if available
      if (storedUTM.utm_source || storedUTM.utm_medium || storedUTM.utm_campaign) {
        console.log('Sending custom page_view with UTM data:', storedUTM);
        
        // Send a custom page view event with campaign data
        gtag('event', 'page_view', {
          'page_title': document.title,
          'page_location': window.location.href,
          'campaign_source': storedUTM.utm_source,
          'campaign_medium': storedUTM.utm_medium,
          'campaign_name': storedUTM.utm_campaign,
          'campaign_term': storedUTM.utm_term,
          'campaign_content': storedUTM.utm_content
        });
        
        // Also send campaign data as a separate event
        gtag('event', 'campaign_attribution', {
          'event_category': 'marketing',
          'campaign_source': storedUTM.utm_source,
          'campaign_medium': storedUTM.utm_medium,
          'campaign_name': storedUTM.utm_campaign,
          'campaign_term': storedUTM.utm_term,
          'campaign_content': storedUTM.utm_content
        });
        
      } else {
        console.log('No UTM data found - check if URL had parameters before redirect');
        console.log('Referrer:', document.referrer);
        
        // Check if UTM parameters are in the referrer (in case of redirect)
        if (document.referrer.includes('utm_')) {
          console.log('UTM parameters found in referrer - extracting...');
          const referrerURL = new URL(document.referrer);
          const referrerParams = new URLSearchParams(referrerURL.search);
          
          const referrerUTM = {
            utm_source: referrerParams.get('utm_source'),
            utm_medium: referrerParams.get('utm_medium'),
            utm_campaign: referrerParams.get('utm_campaign'),
            utm_term: referrerParams.get('utm_term'),
            utm_content: referrerParams.get('utm_content')
          };
          
          // Store and send referrer UTM data
          Object.entries(referrerUTM).forEach(([key, value]) => {
            if (value) {
              console.log(`Found in referrer - ${key}: ${value}`);
              localStorage.setItem(key, value);
              sessionStorage.setItem(key, value);
            }
          });
          
          if (referrerUTM.utm_source || referrerUTM.utm_medium || referrerUTM.utm_campaign) {
            gtag('event', 'page_view', {
              'page_title': document.title,
              'page_location': window.location.href,
              'campaign_source': referrerUTM.utm_source,
              'campaign_medium': referrerUTM.utm_medium,
              'campaign_name': referrerUTM.utm_campaign,
              'campaign_term': referrerUTM.utm_term,
              'campaign_content': referrerUTM.utm_content
            });
          }
        }
      }
    </script>
</head>
<body>
    <!-- Hero Section -->
    <section id="hero" class="hero-cursor-style">
        <div class="hero-content">
            <h1>The Recruiter's AI Assistant</h1>
            <p class="speed-tagline">Beat manual screening in <span id="speed-timer">00:05</span> seconds</p>
            <p>Stop Drowning in Resumes — Surface Your Top Candidates in Seconds</p>
            <p class="differentiator">Built for hectic agency & in-house teams – no bulky ATS required.</p>
            
            <div class="hero-ctas">
                <!-- Email + Button + Spots Counter in one line -->
                <div class="hero-cta-row">
                    <form class="waitlist-form" id="hero-waitlist">
                        <div class="waitlist-form-inline">
                            <input type="email" name="email" class="waitlist-email-input" required placeholder="you@example.com" autocomplete="email">
                            <button type="submit" class="waitlist-submit-btn">Join Beta Waitlist</button>
                            <div class="hero-spots-pill">
                                <span class="spots-text">58 / 100 spots claimed</span>
                                <span class="deadline-separator">•</span>
                                <span class="deadline-text" id="hero-deadline-inline">10d 12h left</span>
                            </div>
                        </div>
                        <div class="waitlist-message" id="hero-msg"></div>
                    </form>
                </div>
            </div>
            <div class="product-showcase">
                <img src="UI1.png" alt="MatchAGig Interface showing candidate shortlist with match percentages" class="product-image">
            </div>
        </div>
    </section>

      <!-- Recruiter Pain Points Validation Section -->
      <section id="recruiter-validation" class="recruiter-validation-section">
        <div class="container">
            <h2>What Recruiters Are Venting About</h2>
            <p>Real quotes from Reddit, LinkedIn & Glassdoor threads — the reason we’re building MatchAGig.</p>
        </div>
        
        <div class="testimonials-container">
            <div class="testimonials-scroll">
                
                <div class="testimonial-card">
                    <div class="testimonial-category">Manual Review</div>
                    <p>"I've been in the same boat, and manually screening thousands of resumes is downright exhausting."</p>
                    <cite>— Minute-Lion-5744, Recruiter (Reddit)</cite>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-category">Tool Frustration</div>
                    <p>"I hated the experience of using tools like Rippling and Workable. These platforms barely had basic filtration."</p>
                    <cite>— Adig_22, Talent Acquisition Professional (Reddit)</cite>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-category">Poor Tools</div>
                    <p>"Most ATS systems have a barely functional UI let alone AI."</p>
                    <cite>— nerdybro1, Corporate Recruiter (Reddit)</cite>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-category">Time Constraints</div>
                    <p>"I would say less than 10% of recruiters would actually waste time putting eyes on 1000 resumes."</p>
                    <cite>— bufy525, Recruiter (Reddit)</cite>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-category">ATS Issues</div>
                    <p>"Recruiters are often overwhelmed, and applicant tracking systems (ATS) can filter out strong resumes just because of formatting or keywords."</p>
                    <cite>— Senior Executive Recruitment Consultant (Glassdoor)</cite>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Feature Section -->
    <section id="feature-showcase" class="feature-showcase-section">
        <div class="container">
            <h2>Stop Wasting Hours Reviewing Resumes</h2>
            <p>MatchAGig instantly finds and ranks your best candidates from any resume pool — so you can focus on hiring, not hunting.</p>
            <div class="feature-product-showcase">
                <img src="UImov.gif" alt="MatchAGig automated candidate shortlisting interface" class="feature-product-image">
            </div>
        </div>
    </section>

    <!-- Personalized Emails Feature Section -->
    <section id="emails-showcase" class="emails-showcase-section">
        <div class="container">
            <h2>Personalized Emails & Candidate Blurbs — Auto-written, Instantly</h2>
            <p>For every matched candidate, MatchAGig prepares a tailored summary you can share with hiring managers or clients — plus ready-to-send emails so you can skip the busywork and focus on closing.</p>
            <div class="emails-product-showcase">
                <img src="UImov2.gif" alt="MatchAGig automated email generation and candidate summaries" class="emails-product-image">
            </div>
        </div>
    </section>

    <!-- Beta CTA Section -->
    <section id="beta-cta-showcase" class="beta-cta-showcase-section">
        <div class="container">
            <h2>Join the First 100 Recruiter Insiders</h2>
            <p>Lock-in lifetime pricing · direct Slack with our devs · steer the roadmap</p>
            
            <div class="beta-cta-product-showcase">
                <div class="beta-cta-content">
                    <form class="beta-waitlist-form" id="beta-waitlist">
                        <div class="beta-waitlist-form-inline">
                            <input type="email" name="email" class="beta-waitlist-email-input" required placeholder="you@example.com" autocomplete="email">
                            <button type="submit" class="beta-waitlist-submit-btn">Join Beta Waitlist</button>
                        </div>
                        <div class="no-spam-text">No spam — unsubscribe anytime.</div>
                        <div class="beta-waitlist-message" id="beta-msg"></div>
                        <div class="hero-spots-pill">
                            <span class="spots-text">58 / 100 spots claimed</span>
                            <span class="deadline-separator">•</span>
                            <span class="deadline-text" id="beta-deadline-inline">10d 12h left</span>
                        </div>
                    </form>
                    <div class="beta-benefits">
                        <div class="benefit-item">
                            <span class="check-icon">✓</span>
                            <span>Lifetime founder pricing discount</span>
                        </div>
                        <div class="benefit-item">
                            <span class="check-icon">✓</span>
                            <span>Direct access to product team</span>
                        </div>
                        <div class="benefit-item">
                            <span class="check-icon">✓</span>
                            <span>Influence features and integrations</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust & Compliance Footer -->
    <section id="footer">
        <div class="container">
            <div class="trust-compliance">
                <div class="compliance-items">
                    <span>GDPR / CCPA compliant</span>
                    <span>ISO-27001 data centers</span>
                    <span>Encrypted at rest & in transit</span>
                    <span>You own and can delete your data at any time</span>
                </div>
            </div>
            <div class="footer-links">
                © 2025 MatchAGig.com. All Rights Reserved.
            </div>
        </div>
    </section>

    <script>
        class WaitlistForm {
            constructor() {
                this.endpoint = 'https://script.google.com/macros/s/AKfycbxUfeaOIF4Isyab63P5BcT2stQQG8wGw2SyBZeS9St3r5oDcG-Ud2ccggwP59d-4tqpwQ/exec';
                this.rateLimitMap = new Map();
                this.init();
            }

            init() {
                this.initForm('hero-waitlist', 'hero-msg');
                this.initForm('beta-waitlist', 'beta-msg');
                this.initTestimonials();
                this.initSpeedTimer();
                this.initHeroCountdown();
            }

            initForm(formId, msgId) {
                const form = document.getElementById(formId);
                const msg = document.getElementById(msgId);
                
                if (!form || !msg) return;

                form.addEventListener('submit', (e) => this.handleSubmit(e, msg));
            }

            async handleSubmit(e, msgElement) {
                e.preventDefault();
                
                const form = e.target;
                const submitBtn = form.querySelector('button[type="submit"]');
                const emailInput = form.querySelector('input[type="email"]');
                const email = emailInput.value.trim();

                if (!this.validateEmail(email)) {
                    this.showMessage(msgElement, '❌ Please enter a valid email', 'error');
                    return;
                }

                if (!this.checkRateLimit(email)) {
                    this.showMessage(msgElement, '❌ Please wait before submitting again', 'error');
                    return;
                }

                const sanitizedEmail = this.sanitizeInput(email);
                
                this.setFormState(form, true);
                this.showMessage(msgElement, '⏳ Joining...', '');

                try {
                    await this.submitViaIframe(sanitizedEmail);
                    
                    this.showMessage(msgElement, '✅ Thanks! You\'re on the waitlist!', 'success');
                    form.reset();
                    this.trackSuccess(sanitizedEmail);
                    
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'waitlist_signup', {
                            'event_category': 'engagement',
                            'event_label': 'beta_waitlist'
                        });
                    }
                } catch (error) {
                    console.error('Waitlist submission error:', error);
                    this.showMessage(msgElement, '❌ Something went wrong. Please try again.', 'error');
                } finally {
                    this.setFormState(form, false);
                }
            }

            submitViaIframe(email) {
                return new Promise((resolve) => {
                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.name = 'waitlist-iframe-' + Date.now();
                    
                    const form = document.createElement('form');
                    form.method = 'POST';
                    form.action = this.endpoint;
                    form.target = iframe.name;
                    form.style.display = 'none';
                    form.innerHTML = `<input type="hidden" name="email" value="${email}">`;

                    document.body.append(iframe, form);

                    const cleanup = () => {
                        iframe.remove();
                        form.remove();
                    };

                    setTimeout(() => {
                        cleanup();
                        resolve();
                    }, 3000);

                    form.submit();
                });
            }

            validateEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email) && email.length <= 254;
            }

            sanitizeInput(input) {
                return input.replace(/[<>\"'&]/g, '').trim();
            }

            checkRateLimit(email) {
                const now = Date.now();
                const lastSubmission = this.rateLimitMap.get(email);
                
                if (lastSubmission && (now - lastSubmission) < 60000) {
                    return false;
                }
                
                this.rateLimitMap.set(email, now);
                return true;
            }

            trackSuccess(email) {
                this.rateLimitMap.set(email, Date.now());
            }

            setFormState(form, disabled) {
                const submitBtn = form.querySelector('button[type="submit"]');
                const emailInput = form.querySelector('input[type="email"]');
                
                submitBtn.disabled = disabled;
                emailInput.disabled = disabled;
            }

            showMessage(element, message, type) {
                element.textContent = message;
                const baseClass = element.classList.contains('beta-waitlist-message') ? 'beta-waitlist-message' : 'waitlist-message';
                element.className = `${baseClass}${type ? ' ' + type : ''}`;
                
                if (type !== 'success') {
                    setTimeout(() => {
                        if (element.textContent === message) {
                            element.textContent = '';
                            element.className = baseClass;
                        }
                    }, 5000);
                }
            }

            initTestimonials() {
                const scrollContainer = document.querySelector('.testimonials-scroll');
                if (scrollContainer) {
                    const testimonials = scrollContainer.innerHTML;
                    scrollContainer.innerHTML = testimonials + testimonials;
                }
            }



            initSpeedTimer() {
                const speedTimer = document.getElementById('speed-timer');
                if (!speedTimer) return;
                
                let seconds = 5;
                const countdown = setInterval(() => {
                    speedTimer.textContent = `00:0${seconds}`;
                    seconds--;
                    
                    if (seconds < 0) {
                        speedTimer.textContent = '00:00';
                        clearInterval(countdown);
                        
                        // Reset after 3 seconds
                        setTimeout(() => {
                            seconds = 5;
                            speedTimer.textContent = '00:05';
                        }, 3000);
                    }
                }, 1000);
            }

            initHeroCountdown() {
                const targetDate = new Date('August 15, 2025 23:59:59').getTime();
                
                const updateHeroCountdown = () => {
                    const now = new Date().getTime();
                    const timeLeft = targetDate - now;
                    
                    const heroDeadlineEl = document.getElementById('hero-deadline-inline');
                    const betaDeadlineEl = document.getElementById('beta-deadline-inline');
                    
                    if (timeLeft <= 0) {
                        if (heroDeadlineEl) {
                            heroDeadlineEl.textContent = 'Expired';
                            heroDeadlineEl.style.color = '#ff6b6b';
                        }
                        if (betaDeadlineEl) {
                            betaDeadlineEl.textContent = 'Expired';
                            betaDeadlineEl.style.color = '#ff6b6b';
                        }
                        return;
                    }
                    
                    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    
                    const timeText = `${days}d ${hours}h left`;
                    if (heroDeadlineEl) heroDeadlineEl.textContent = timeText;
                    if (betaDeadlineEl) betaDeadlineEl.textContent = timeText;
                };
                
                // Update immediately and then every minute
                updateHeroCountdown();
                setInterval(updateHeroCountdown, 60000);
            }
        }

        document.addEventListener('DOMContentLoaded', () => new WaitlistForm());
    </script>
</body>
</html> 